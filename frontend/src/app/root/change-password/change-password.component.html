<form #form="ngForm">
  <h1 mat-dialog-title>パスワード変更</h1>
  <div mat-dialog-content>
    <!-- <div class="d-flex flex-column"> -->
      <mat-form-field appearance="outline" class="mb-2">
        <mat-label>現在のパスワード</mat-label>
        <input matInput type="password" [(ngModel)]="command.oldPassword" #oldPasswordInput="ngModel" name="oldPassword" required>
        <mat-hint *ngIf="oldPasswordInput.errors?.required" class="text-danger">入力してください。</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline" class="mb-2">
        <mat-label>新しいパスワード</mat-label>
        <input matInput type="password" [(ngModel)]="command.newPassword" #newPasswordInput="ngModel" name="newPassword" required pattern="(?=.*\d)(?=.*[a-zA-Z]).{8,}" autocomplete="new-password">
        <mat-hint *ngIf="newPasswordInput.errors?.required" class="text-danger">入力してください。</mat-hint>
        <mat-hint *ngIf="newPasswordInput.errors?.pattern" class="text-danger">半角の英字と数字を含む8文字以上にしてください。</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline" class="mb-2">
        <mat-label>新しいパスワードの確認</mat-label>
        <input matInput type="password" [(ngModel)]="confirmNewPassword" #confirmNewPasswordInput="ngModel" name="confirmNewPassword" required pattern="{{ newPasswordInput.value }}" autocomplete="new-password">
        <mat-hint *ngIf="confirmNewPasswordInput.errors?.required" class="text-danger">入力してください。</mat-hint>
        <mat-hint *ngIf="confirmNewPasswordInput.errors?.pattern" class="text-danger">新しいパスワードと異なります。</mat-hint>
      </mat-form-field>
    <!-- </div> -->
  </div>
  <div mat-dialog-actions>
    <button mat-raised-button color="primary" (click)="onOK()" [disabled]="form.invalid">OK</button>
    <button mat-stroked-button mat-dialog-close>キャンセル</button>
  </div>
</form>
