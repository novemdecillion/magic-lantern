fragment groupCore on GroupCore {
  groupId
  groupName
}

fragment group on Group {
  groupId
  groupOriginId
  groupGenerationId
  groupName
  parentGroupId
  path {
    ...groupCore
  }
}

query group($groupId: ID!) {
  group(groupId: $groupId) {
    ...group
  }
}

query authoritativeGroups($role: Role!) {
  authoritativeGroups(role: $role) {
    ...group
  }
}

query effectiveGroups($role: Role!) {
  effectiveGroups(role: $role) {
    ...group
  }
}

mutation addGroup($command: AddGroupCommand!) {
  addGroup(command: $command)
}

mutation updateGroup($command: UpdateGroupCommand!) {
  updateGroup(command: $command)
}

mutation deleteGroup($groupId: ID!) {
  deleteGroup(groupId: $groupId)
}

mutation addGroupMember($command: GroupMemberCommand!) {
  addGroupMember(command: $command)
}

mutation updateGroupMember($command: GroupMemberCommand!) {
  updateGroupMember(command: $command)
}

mutation deleteGroupMember($command: DeleteGroupMemberCommand!) {
  deleteGroupMember(command: $command)
}

fragment lesson on Lesson {
  lessonId
  groupId
  slideId
  group {
    ...group
  }
  slide {
    ...slide
  }
}

query manageableLessons {
  manageableLessons {
    ...lesson
  }
}

query prepareAddLesson {
  manageableLessons {
    lessonId
    groupId
    slideId
  }
  authoritativeGroups(role: LESSON) {
    ...group
  }
  slides {
    ...slide
  }
}

mutation addLesson($command: AddLessonCommand!) {
  addLesson(command: $command)
}

mutation deleteLesson($lessonId: ID!) {
  deleteLesson(lessonId: $lessonId)
}
